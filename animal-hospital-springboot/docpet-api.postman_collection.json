{
  "info": {
    "_postman_id": "c6cb0c01-4fe4-4f1f-9d4d-48fb3c3d9a6b",
    "name": "DocPet Animal Hospital API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Bộ sưu tập Postman liệt kê các API chính của hệ thống DocPet Animal Hospital.\nSử dụng biến môi trường `base_url`, `auth_token`, `appointment_id`, `vet_id`, `owner_id`, `pet_id`, `assistant_id` để cấu hình nhanh."
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login (JWT)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"vet@example.com\",\n  \"password\": \"admin\",\n  \"rememberMe\": false\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/authenticate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "authenticate"
              ]
            },
            "description": "Đăng nhập và nhận JWT cho các request bảo vệ."
          }
        },
        {
          "name": "Check Authentication",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/authenticate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "authenticate"
              ]
            },
            "description": "Kiểm tra token hiện tại còn hiệu lực hay không."
          }
        }
      ]
    },
    {
      "name": "Appointments",
      "item": [
        {
          "name": "Create Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pet\": { \"id\": {{pet_id}} },\n  \"vet\": { \"id\": {{vet_id}} },\n  \"appointmentType\": \"NORMAL\",\n  \"locationType\": \"AT_CLINIC\",\n  \"timeStart\": \"2024-01-25T09:00:00+07:00\",\n  \"notes\": \"Khám định kỳ\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments"
              ]
            },
            "description": "Tạo lịch hẹn mới (owner hoặc vet)."
          }
        },
        {
          "name": "Update Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{appointment_id}},\n  \"pet\": { \"id\": {{pet_id}} },\n  \"vet\": { \"id\": {{vet_id}} },\n  \"appointmentType\": \"NORMAL\",\n  \"locationType\": \"AT_CLINIC\",\n  \"timeStart\": \"2024-01-25T09:00:00+07:00\",\n  \"timeEnd\": \"2024-01-25T10:00:00+07:00\",\n  \"notes\": \"Cập nhật ghi chú\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}"
              ]
            }
          }
        },
        {
          "name": "Partial Update Appointment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{appointment_id}},\n  \"notes\": \"Thêm ghi chú mới\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}"
              ]
            }
          }
        },
        {
          "name": "List My Appointments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments"
              ]
            },
            "description": "Trả về danh sách lịch hẹn cho user hiện tại (owner/vet)."
          }
        },
        {
          "name": "Get Appointment Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Appointment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}"
              ]
            }
          }
        },
        {
          "name": "Vet Appointments By Date",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/vet?date=2024-01-25",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "vet"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2024-01-25"
                }
              ]
            },
            "description": "Yêu cầu quyền DOCTOR."
          }
        },
        {
          "name": "Pet Appointment History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/pet/{{pet_id}}/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "pet",
                "{{pet_id}}",
                "history"
              ]
            }
          }
        },
        {
          "name": "Regular Appointments By Date & Vet",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/regular?date=2024-01-25&vetId={{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "regular"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2024-01-25"
                },
                {
                  "key": "vetId",
                  "value": "{{vet_id}}"
                }
              ]
            }
          }
        },
        {
          "name": "Emergency Appointments By Date & Vet",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/emergency?date=2024-01-25&vetId={{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "emergency"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2024-01-25"
                },
                {
                  "key": "vetId",
                  "value": "{{vet_id}}"
                }
              ]
            }
          }
        },
        {
          "name": "Check Vet Availability",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vetId\": {{vet_id}},\n  \"startTime\": \"2024-01-25T09:00:00+07:00\",\n  \"endTime\": \"2024-01-25T10:00:00+07:00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments/vet/available",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "vet",
                "available"
              ]
            }
          }
        },
        {
          "name": "Assistant Assigned Appointments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/assistant/assigned?status=PENDING",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "assistant",
                "assigned"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                }
              ]
            },
            "description": "Yêu cầu quyền ASSISTANT."
          }
        },
        {
          "name": "Assistant Pending Assignments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/assistant/assigned/pending",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "assistant",
                "assigned",
                "pending"
              ]
            }
          }
        },
        {
          "name": "Assistant Appointment Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/assistant/{{appointment_id}}/detail",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "assistant",
                "{{appointment_id}}",
                "detail"
              ]
            }
          }
        },
        {
          "name": "Send Appointment Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Xin chào bác sĩ, vui lòng xác nhận lịch\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}/messages",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}",
                "messages"
              ]
            }
          }
        },
        {
          "name": "Get Appointment Messages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/{{appointment_id}}/messages",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "{{appointment_id}}",
                "messages"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Vet Workflow",
      "item": [
        {
          "name": "Vet View Appointment Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/detail",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "detail"
              ]
            },
            "description": "Bác sĩ xem lịch của chính mình."
          }
        },
        {
          "name": "Approve Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "text/plain"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "Đồng ý hẹn khám"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/approve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "approve"
              ]
            }
          }
        },
        {
          "name": "Reject Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "text/plain"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "Xin lỗi, tôi bận"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/reject",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "reject"
              ]
            }
          }
        },
        {
          "name": "Reschedule Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newTimeStart\": \"2024-01-26T14:00:00+07:00\",\n  \"notes\": \"Dời lịch sang chiều\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/reschedule",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "reschedule"
              ]
            }
          }
        },
        {
          "name": "Assign Assistant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"assistantId\": {{assistant_id}},\n  \"notes\": \"Lấy mẫu xét nghiệm\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/assign-assistant",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "assign-assistant"
              ]
            }
          }
        },
        {
          "name": "Request Home Visit",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Khám tại nhà cho thú cưng lớn tuổi\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/request-home-visit",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "request-home-visit"
              ]
            }
          }
        },
        {
          "name": "Request Lab Test",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"testName\": \"CBC\",\n  \"testType\": \"BLOOD\",\n  \"description\": \"Kiểm tra máu định kỳ\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/request-lab-test",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "request-lab-test"
              ]
            }
          }
        },
        {
          "name": "Get Appointment Actions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/actions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "actions"
              ]
            }
          }
        },
        {
          "name": "Get Appointment Lab Tests",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vet/appointments/{{appointment_id}}/lab-tests",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vet",
                "appointments",
                "{{appointment_id}}",
                "lab-tests"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Owners",
      "item": [
        {
          "name": "Create Owner",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 10,\n  \"fullName\": \"Nguyen Van A\",\n  \"phone\": \"0900000000\",\n  \"address\": \"HCM\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/owners",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners"
              ]
            }
          }
        },
        {
          "name": "Update Owner",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{owner_id}},\n  \"fullName\": \"Nguyen Van A\",\n  \"phone\": \"0911111111\",\n  \"address\": \"HCM\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/owners/{{owner_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners",
                "{{owner_id}}"
              ]
            }
          }
        },
        {
          "name": "Partial Update Owner",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{owner_id}},\n  \"phone\": \"0988888888\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/owners/{{owner_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners",
                "{{owner_id}}"
              ]
            }
          }
        },
        {
          "name": "List Owners",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/owners",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners"
              ]
            }
          }
        },
        {
          "name": "Owner Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/owners/{{owner_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners",
                "{{owner_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Owner",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/owners/{{owner_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "owners",
                "{{owner_id}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Vets",
      "item": [
        {
          "name": "Create Vet",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 12,\n  \"fullName\": \"Bac si B\",\n  \"speciality\": \"Surgery\",\n  \"phone\": \"0901234567\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vets",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets"
              ]
            }
          }
        },
        {
          "name": "Update Vet",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{vet_id}},\n  \"fullName\": \"Bac si B\",\n  \"speciality\": \"Dermatology\",\n  \"phone\": \"0907654321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vets/{{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets",
                "{{vet_id}}"
              ]
            }
          }
        },
        {
          "name": "Partial Update Vet",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": {{vet_id}},\n  \"speciality\": \"Cardiology\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/vets/{{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets",
                "{{vet_id}}"
              ]
            }
          }
        },
        {
          "name": "List Vets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vets",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets"
              ]
            }
          }
        },
        {
          "name": "Vet Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vets/{{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets",
                "{{vet_id}}"
              ]
            }
          }
        },
        {
          "name": "Delete Vet",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vets/{{vet_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "vets",
                "{{vet_id}}"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080"
    },
    {
      "key": "auth_token",
      "value": ""
    },
    {
      "key": "appointment_id",
      "value": "1"
    },
    {
      "key": "vet_id",
      "value": "1"
    },
    {
      "key": "owner_id",
      "value": "1"
    },
    {
      "key": "pet_id",
      "value": "1"
    },
    {
      "key": "assistant_id",
      "value": "1"
    }
  ]
}

